/**
 * Copyright 2014 Telerik AD
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

!function(e,define){define(["./kendo.core.min"],e)}(function(){return function(e,t){function n(e,t,n,i){var a,r=e.getFullYear(),s=t.getFullYear(),o=n.getFullYear();return r-=r%i,a=r+(i-1),s>r&&(r=s),a>o&&(a=o),r+"-"+a}function i(e){for(var t,n=0,i=e.min,a=e.max,r=e.start,s=e.setter,l=e.build,c=e.cells||12,u=e.perRow||4,d=e.content||B,h=e.empty||M,f=e.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';c>n;n++)n>0&&n%u===0&&(f+='</tr><tr role="row">'),t=l(r,n),f+=o(r,i,a)?d(t):h(t),s(r,1);return f+"</tr></tbody></table>"}function a(e,t,n){var i=e.getFullYear(),a=t.getFullYear(),r=a,s=0;return n&&(a-=a%n,r=a-a%n+n-1),i>r?s=1:a>i&&(s=-1),s}function r(){var e=new gt;return new gt(e.getFullYear(),e.getMonth(),e.getDate())}function s(e,t,n){var i=r();return e&&(i=new gt(+e)),t>i?i=new gt(+t):i>n&&(i=new gt(+n)),i}function o(e,t,n){return+e>=+t&&+n>=+e}function l(e,t){return e.slice(t).concat(e.slice(0,t))}function c(e,t,n){t=t instanceof gt?t.getFullYear():e.getFullYear()+n*t,e.setFullYear(t)}function u(t){e(this).toggleClass(G,it.indexOf(t.type)>-1||t.type==tt)}function d(e){e.preventDefault()}function h(e){return T(e).calendars.standard}function f(e){var n=pt[e.start],i=pt[e.depth],a=T(e.culture);e.format=F(e.format||a.calendars.standard.patterns.d),isNaN(n)&&(n=0,e.start=W),(i===t||i>n)&&(e.depth=W),e.dates||(e.dates=[])}function g(e){N&&e.find("*").attr("unselectable","on")}function p(e,t){for(var n=0,i=t.length;i>n;n++)if(e===+t[n])return!0;return!1}function v(e,t){return e?e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate():!1}function m(e,t){return e?e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth():!1}var _,b=window.kendo,y=b.support,w=b.ui,k=w.Widget,x=b.keys,C=b.parseDate,D=b.date.adjustDST,F=b._extractFormat,S=b.template,T=b.getCulture,$=b.support.transitions,A=$?$.css+"transform-origin":"",B=S('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),M=S('<td role="gridcell">&nbsp;</td>',{useWithBlock:!1}),O=b.support.browser,N=O.msie&&9>O.version,E=".kendoCalendar",Y="click"+E,V="keydown"+E,L="id",I="min",H="left",P="slideIn",W="month",R="century",z="change",j="navigate",U="value",G="k-state-hover",q="k-state-disabled",Q="k-state-focused",Z="k-other-month",K=' class="'+Z+'"',J="k-nav-today",X="td:has(.k-link)",et="blur"+E,tt="focus",nt=tt+E,it=y.touch?"touchstart":"mouseenter",at=y.touch?"touchstart"+E:"mouseenter"+E,rt=y.touch?"touchend"+E+" touchmove"+E:"mouseleave"+E,st=6e4,ot=864e5,lt="_prevArrow",ct="_nextArrow",ut="aria-disabled",dt="aria-selected",ht=e.proxy,ft=e.extend,gt=Date,pt={month:0,year:1,decade:2,century:3},vt=k.extend({init:function(t,n){var i,a,r=this;k.fn.init.call(r,t,n),t=r.wrapper=r.element,n=r.options,n.url=window.unescape(n.url),r._templates(),r._header(),r._footer(r.footer),a=t.addClass("k-widget k-calendar").on(at+" "+rt,X,u).on(V,"table.k-content",ht(r._move,r)).on(Y,X,function(t){var n=t.currentTarget.firstChild;-1!=n.href.indexOf("#")&&t.preventDefault(),r._click(e(n))}).on("mouseup"+E,"table.k-content, .k-footer",function(){r._focusView(r.options.focusOnNav!==!1)}).attr(L),a&&(r._cellID=a+"_cell_selected"),f(n),i=C(n.value,n.format,n.culture),r._index=pt[n.start],r._current=new gt(+s(i,n.min,n.max)),r._addClassProxy=function(){r._active=!0,r._cell.addClass(Q)},r._removeClassProxy=function(){r._active=!1,r._cell.removeClass(Q)},r.value(i),b.notify(r)},options:{name:"Calendar",value:null,min:new gt(1900,0,1),max:new gt(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:W,depth:W,animation:{horizontal:{effects:P,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[z,j],setOptions:function(e){var t=this;f(e),e.dates[0]||(e.dates=t.options.dates),k.fn.setOptions.call(t,e),t._templates(),t._footer(t.footer),t._index=pt[t.options.start],t.navigate()},destroy:function(){var e=this,t=e._today;e.element.off(E),e._title.off(E),e[lt].off(E),e[ct].off(E),b.destroy(e._table),t&&b.destroy(t.off(E)),k.fn.destroy.call(e)},current:function(){return this._current},view:function(){return this._view},focus:function(e){e=e||this._table,this._bindTable(e),e.focus()},min:function(e){return this._option(I,e)},max:function(e){return this._option("max",e)},navigateToPast:function(){this._navigate(lt,-1)},navigateToFuture:function(){this._navigate(ct,1)},navigateUp:function(){var e=this,t=e._index;e._title.hasClass(q)||e.navigate(e._current,++t)},navigateDown:function(e){var n=this,i=n._index,a=n.options.depth;if(e)return i===pt[a]?(+n._value!=+e&&(n.value(e),n.trigger(z)),t):(n.navigate(e,--i),t)},navigate:function(n,i){i=isNaN(i)?pt[i]:i;var a,r,o,l,c=this,u=c.options,d=u.culture,h=u.min,f=u.max,p=c._title,v=c._table,m=c._oldTable,b=c._value,y=c._current,w=n&&+n>+y,k=i!==t&&i!==c._index;n||(n=y),c._current=n=new gt(+s(n,h,f)),i===t?i=c._index:c._index=i,c._view=r=_.views[i],o=r.compare,l=i===pt[R],p.toggleClass(q,l).attr(ut,l),l=o(n,h)<1,c[lt].toggleClass(q,l).attr(ut,l),l=o(n,f)>-1,c[ct].toggleClass(q,l).attr(ut,l),v&&m&&m.data("animating")&&(m.kendoStop(!0,!0),v.kendoStop(!0,!0)),c._oldTable=v,(!v||c._changeView)&&(p.html(r.title(n,h,f,d)),c._table=a=e(r.content(ft({min:h,max:f,date:n,url:u.url,dates:u.dates,format:u.format,culture:d},c[r.name]))),g(a),c._animate({from:v,to:a,vertical:k,future:w}),c._focus(n),c.trigger(j)),i===pt[u.depth]&&b&&c._class("k-state-selected",r.toDateString(b)),c._class(Q,r.toDateString(n)),!v&&c._cell&&c._cell.removeClass(Q),c._changeView=!0},value:function(e){var n=this,i=n._view,a=n.options,r=n._view,s=a.min,l=a.max;return e===t?n._value:(e=C(e,a.format,a.culture),null!==e&&(e=new gt(+e),o(e,s,l)||(e=null)),n._value=e,r&&null===e&&n._cell?n._cell.removeClass("k-state-selected"):(n._changeView=!e||i&&0!==i.compare(e,n._current),n.navigate(e)),t)},_move:function(t){var n,i,a,r,o=this,l=o.options,c=t.keyCode,u=o._view,d=o._index,h=new gt(+o._current),f=b.support.isRtl(o.wrapper);return t.target===o._table[0]&&(o._active=!0),t.ctrlKey?c==x.RIGHT&&!f||c==x.LEFT&&f?(o.navigateToFuture(),i=!0):c==x.LEFT&&!f||c==x.RIGHT&&f?(o.navigateToPast(),i=!0):c==x.UP?(o.navigateUp(),i=!0):c==x.DOWN&&(o._click(e(o._cell[0].firstChild)),i=!0):(c==x.RIGHT&&!f||c==x.LEFT&&f?(n=1,i=!0):c==x.LEFT&&!f||c==x.RIGHT&&f?(n=-1,i=!0):c==x.UP?(n=0===d?-7:-4,i=!0):c==x.DOWN?(n=0===d?7:4,i=!0):c==x.ENTER?(o._click(e(o._cell[0].firstChild)),i=!0):c==x.HOME||c==x.END?(a=c==x.HOME?"first":"last",r=u[a](h),h=new gt(r.getFullYear(),r.getMonth(),r.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds()),i=!0):c==x.PAGEUP?(i=!0,o.navigateToPast()):c==x.PAGEDOWN&&(i=!0,o.navigateToFuture()),(n||a)&&(a||u.setDate(h,n),o._focus(s(h,l.min,l.max)))),i&&t.preventDefault(),o._current},_animate:function(e){var t=this,n=e.from,i=e.to,a=t._active;n?n.parent().data("animating")?(n.parent().kendoStop(!0,!0).remove(),n.remove(),i.insertAfter(t.element[0].firstChild),t._focusView(a)):n.is(":visible")&&t.options.animation!==!1?t[e.vertical?"_vertical":"_horizontal"](n,i,e.future):(i.insertAfter(n),n.remove(),t._focusView(a)):(i.insertAfter(t.element[0].firstChild),t._bindTable(i))},_horizontal:function(e,n,i){var a=this,r=a._active,s=a.options.animation.horizontal,o=s.effects,l=e.outerWidth();o&&-1!=o.indexOf(P)&&(e.add(n).css({width:l}),e.wrap("<div/>"),a._focusView(r,e),e.parent().css({position:"relative",width:2*l,"float":H,"margin-left":i?0:-l}),n[i?"insertAfter":"insertBefore"](e),ft(s,{effects:P+":"+(i?"right":H),complete:function(){e.remove(),n.unwrap(),a._focusView(r),a._oldTable=t}}),e.parent().kendoStop(!0,!0).kendoAnimate(s))},_vertical:function(e,n){var i,a,r=this,s=r.options.animation.vertical,o=s.effects,l=r._active;o&&-1!=o.indexOf("zoom")&&(n.css({position:"absolute",top:e.prev().outerHeight(),left:0}).insertBefore(e),A&&(i=r._cellByDate(r._view.toDateString(r._current)),a=i.position(),a=a.left+parseInt(i.width()/2,10)+"px "+(a.top+parseInt(i.height()/2,10)+"px"),n.css(A,a)),e.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){e.remove(),n.css({position:"static",top:0,left:0}),r._focusView(l),r._oldTable=t}}),n.kendoStop(!0,!0).kendoAnimate(s))},_cellByDate:function(t){return this._table.find("td:not(."+Z+")").filter(function(){return e(this.firstChild).attr(b.attr(U))===t})},_class:function(t,n){var i=this,a=i._cellID,r=i._cell;r&&r.removeAttr(dt).removeAttr("aria-label").removeAttr(L),r=i._table.find("td:not(."+Z+")").removeClass(t).filter(function(){return e(this.firstChild).attr(b.attr(U))===n}).attr(dt,!0),t!==Q||i._active||i.options.focusOnNav===!1||(t=""),r.addClass(t),r[0]&&(i._cell=r),a&&(r.attr(L,a),i._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",a))},_bindTable:function(e){e.on(nt,this._addClassProxy).on(et,this._removeClassProxy)},_click:function(e){var t=this,n=t.options,i=new Date(+t._current),a=e.attr(b.attr(U)).split("/");a=new gt(a[0],a[1],a[2]),D(a,0),t._view.setDate(i,a),t.navigateDown(s(i,n.min,n.max))},_focus:function(e){var t=this,n=t._view;0!==n.compare(e,t._current)?t.navigate(e):(t._current=e,t._class(Q,n.toDateString(e)))},_focusView:function(e,t){e&&this.focus(t)},_footer:function(n){var i=this,a=r(),s=i.element,o=s.find(".k-footer");return n?(o[0]||(o=e('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(s)),i._today=o.show().find(".k-link").html(n(a)).attr("title",b.toString(a,"D",i.options.culture)),i._toggle(),t):(i._toggle(!1),o.hide(),t)},_header:function(){var e,t=this,n=t.element;n.find(".k-header")[0]||n.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>'),e=n.find(".k-link").on(at+" "+rt+" "+nt+" "+et,u).click(!1),t._title=e.eq(1).on(Y,function(){t._active=t.options.focusOnNav!==!1,t.navigateUp()}),t[lt]=e.eq(0).on(Y,function(){t._active=t.options.focusOnNav!==!1,t.navigateToPast()}),t[ct]=e.eq(2).on(Y,function(){t._active=t.options.focusOnNav!==!1,t.navigateToFuture()})},_navigate:function(e,t){var n=this,i=n._index+1,a=new gt(+n._current);e=n[e],e.hasClass(q)||(i>3?a.setFullYear(a.getFullYear()+100*t):_.views[i].setDate(a,t),n.navigate(a))},_option:function(e,n){var i,a=this,r=a.options,s=a._value||a._current;return n===t?r[e]:(n=C(n,r.format,r.culture),n&&(r[e]=new gt(+n),i=e===I?n>s:s>n,(i||m(s,n))&&(i&&(a._value=null),a._changeView=!0),a._changeView||(a._changeView=!(!r.month.content&&!r.month.empty)),a.navigate(a._value),a._toggle()),t)},_toggle:function(e){var n=this,i=n.options,a=n._today;e===t&&(e=o(r(),i.min,i.max)),a&&(a.off(Y),e?a.addClass(J).removeClass(q).on(Y,ht(n._todayClick,n)):a.removeClass(J).addClass(q).on(Y,d))},_todayClick:function(e){var t=this,n=pt[t.options.depth],i=r();e.preventDefault(),0===t._view.compare(t._current,i)&&t._index==n&&(t._changeView=!1),t._value=i,t.navigate(i,n),t.trigger(z)},_templates:function(){var e=this,t=e.options,n=t.footer,i=t.month,a=i.content,r=i.empty;e.month={content:S('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+b.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(a||"#=data.value#")+"</a></td>",{useWithBlock:!!a}),empty:S('<td role="gridcell">'+(r||"&nbsp;")+"</td>",{useWithBlock:!!r})},e.footer=n!==!1?S(n||'#= kendo.toString(data,"D","'+t.culture+'") #',{useWithBlock:!1}):null}});w.plugin(vt),_={firstDayOfMonth:function(e){return new gt(e.getFullYear(),e.getMonth(),1)},firstVisibleDay:function(e,t){t=t||b.culture().calendar;for(var n=t.firstDay,i=new gt(e.getFullYear(),e.getMonth(),0,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());i.getDay()!=n;)_.setTime(i,-1*ot);return i},setTime:function(e,t){var n=e.getTimezoneOffset(),i=new gt(e.getTime()+t),a=i.getTimezoneOffset()-n;e.setTime(i.getTime()+a*st)},views:[{name:W,title:function(e,t,n,i){return h(i).months.names[e.getMonth()]+" "+e.getFullYear()},content:function(e){for(var t=this,n=0,a=e.min,r=e.max,s=e.date,o=e.dates,c=e.format,u=e.culture,d=e.url,f=d&&o[0],g=h(u),v=g.firstDay,m=g.days,y=l(m.names,v),w=l(m.namesShort,v),k=_.firstVisibleDay(s,g),x=t.first(s),C=t.last(s),F=t.toDateString,S=new gt,T='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';7>n;n++)T+='<th scope="col" title="'+y[n]+'">'+w[n]+"</th>";return S=new gt(S.getFullYear(),S.getMonth(),S.getDate()),D(S,0),S=+S,i({cells:42,perRow:7,html:T+='</tr></thead><tbody><tr role="row">',start:new gt(k.getFullYear(),k.getMonth(),k.getDate()),min:new gt(a.getFullYear(),a.getMonth(),a.getDate()),max:new gt(r.getFullYear(),r.getMonth(),r.getDate()),content:e.content,empty:e.empty,setter:t.setDate,build:function(e){var t=[],n=e.getDay(),i="",a="#";return(x>e||e>C)&&t.push(Z),+e===S&&t.push("k-today"),(0===n||6===n)&&t.push("k-weekend"),f&&p(+e,o)&&(a=d.replace("{0}",b.toString(e,c,u)),i=" k-action-link"),{date:e,dates:o,ns:b.ns,title:b.toString(e,"D",u),value:e.getDate(),dateString:F(e),cssClass:t[0]?' class="'+t.join(" ")+'"':"",linkClass:i,url:a}}})},first:function(e){return _.firstDayOfMonth(e)},last:function(e){var t=new gt(e.getFullYear(),e.getMonth()+1,0),n=_.firstDayOfMonth(e),i=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return i&&t.setHours(n.getHours()+i/60),t},compare:function(e,t){var n,i=e.getMonth(),a=e.getFullYear(),r=t.getMonth(),s=t.getFullYear();return n=a>s?1:s>a?-1:i==r?0:i>r?1:-1},setDate:function(e,t){var n=e.getHours();t instanceof gt?e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):_.setTime(e,t*ot),D(e,n)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/"+e.getDate()}},{name:"year",title:function(e){return e.getFullYear()},content:function(e){var t=h(e.culture).months.namesAbbr,n=this.toDateString,a=e.min,r=e.max;return i({min:new gt(a.getFullYear(),a.getMonth(),1),max:new gt(r.getFullYear(),r.getMonth(),1),start:new gt(e.date.getFullYear(),0,1),setter:this.setDate,build:function(e){return{value:t[e.getMonth()],ns:b.ns,dateString:n(e),cssClass:""}}})},first:function(e){return new gt(e.getFullYear(),0,e.getDate())},last:function(e){return new gt(e.getFullYear(),11,e.getDate())},compare:function(e,t){return a(e,t)},setDate:function(e,t){var n,i=e.getHours();t instanceof gt?(n=t.getMonth(),e.setFullYear(t.getFullYear(),n,e.getDate()),n!==e.getMonth()&&e.setDate(0)):(n=e.getMonth()+t,e.setMonth(n),n>11&&(n-=12),n>0&&e.getMonth()!=n&&e.setDate(0)),D(e,i)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/1"}},{name:"decade",title:function(e,t,i){return n(e,t,i,10)},content:function(e){var t=e.date.getFullYear(),n=this.toDateString;return i({start:new gt(t-t%10-1,0,1),min:new gt(e.min.getFullYear(),0,1),max:new gt(e.max.getFullYear(),0,1),setter:this.setDate,build:function(e,t){return{value:e.getFullYear(),ns:b.ns,dateString:n(e),cssClass:0===t||11==t?K:""}}})},first:function(e){var t=e.getFullYear();return new gt(t-t%10,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return new gt(t-t%10+9,e.getMonth(),e.getDate())},compare:function(e,t){return a(e,t,10)},setDate:function(e,t){c(e,t,1)},toDateString:function(e){return e.getFullYear()+"/0/1"}},{name:R,title:function(e,t,i){return n(e,t,i,100)},content:function(e){var t=e.date.getFullYear(),n=e.min.getFullYear(),a=e.max.getFullYear(),r=this.toDateString,s=n,o=a;return s-=s%10,o-=o%10,10>o-s&&(o=s+9),i({start:new gt(t-t%100-10,0,1),min:new gt(s,0,1),max:new gt(o,0,1),setter:this.setDate,build:function(e,t){var i=e.getFullYear(),s=i+9;return n>i&&(i=n),s>a&&(s=a),{ns:b.ns,value:i+" - "+s,dateString:r(e),cssClass:0===t||11==t?K:""}}})},first:function(e){var t=e.getFullYear();return new gt(t-t%100,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return new gt(t-t%100+99,e.getMonth(),e.getDate())},compare:function(e,t){return a(e,t,100)},setDate:function(e,t){c(e,t,10)},toDateString:function(e){var t=e.getFullYear();return t-t%10+"/0/1"}}]},_.isEqualDatePart=v,_.makeUnselectable=g,_.restrictValue=s,_.isInRange=o,_.normalize=f,_.viewsEnum=pt,b.calendar=_}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t){t()});